import{S as Ae,i as ze,s as Be,Y as Le,k as q,e as f,w as Fe,t as P,Z as Ke,d as h,m as C,c as b,a as E,x as je,h as S,_ as Oe,b as p,T as de,g as V,y as Me,I as u,$ as z,a0 as X,J as y,a1 as Ye,q as Ge,o as Je,B as Qe,G as oe,a2 as ue,E as J,a3 as he,j as Ze}from"../chunks/index-b5b53854.js";import{c as Q}from"../chunks/singletons-cdeec3fd.js";import{a as ce,l as He,D as ye,k as re,t as W,m as Re,w as We,V as Pe,T as Xe,n as $e,x as xe}from"../chunks/toasts-778ff757.js";import{A as et}from"../chunks/Appbar-ad66ea68.js";import"../chunks/index-c874b5dd.js";Q.disable_scroll_handling;const _e=Q.goto;Q.invalidate;Q.prefetch;Q.prefetch_routes;Q.before_navigate;Q.after_navigate;function Se(l,t,e){const o=l.slice();return o[32]=t[e],o[33]=t,o[31]=e,o}function Ue(l,t,e){const o=l.slice();return o[29]=t[e],o[30]=t,o[31]=e,o}function De(l,t,e){const o=l.slice();return o[35]=t[e],o}function tt(l){return{c:J,l:J,m:J,p:J,d:J}}function lt(l){let t,e,o,_,c,r=l[34].docs,a=[];for(let n=0;n<r.length;n+=1)a[n]=qe(De(l,r,n));return{c(){t=f("select"),e=f("option"),o=P("Select Kuiz");for(let n=0;n<a.length;n+=1)a[n].c();this.h()},l(n){t=b(n,"SELECT",{class:!0});var d=E(t);e=b(d,"OPTION",{});var s=E(e);o=S(s,"Select Kuiz"),s.forEach(h);for(let i=0;i<a.length;i+=1)a[i].l(d);d.forEach(h),this.h()},h(){e.disabled=!0,e.selected=!0,e.__value="Select Kuiz",e.value=e.__value,p(t,"class","select select-bordered w-96"),l[0]===void 0&&de(()=>l[11].call(t))},m(n,d){V(n,t,d),u(t,e),u(e,o);for(let s=0;s<a.length;s+=1)a[s].m(t,null);X(t,l[0]),_||(c=y(t,"change",l[11]),_=!0)},p(n,d){if(d[0]&512){r=n[34].docs;let s;for(s=0;s<r.length;s+=1){const i=De(n,r,s);a[s]?a[s].p(i,d):(a[s]=qe(i),a[s].c(),a[s].m(t,null))}for(;s<a.length;s+=1)a[s].d(1);a.length=r.length}d[0]&513&&X(t,n[0])},d(n){n&&h(t),he(a,n),_=!1,c()}}}function qe(l){let t,e=l[35].data().displayName+"",o,_;return{c(){t=f("option"),o=P(e),this.h()},l(c){t=b(c,"OPTION",{});var r=E(t);o=S(r,e),r.forEach(h),this.h()},h(){t.__value=_=l[35].id,t.value=t.__value},m(c,r){V(c,t,r),u(t,o)},p:J,d(c){c&&h(t)}}}function nt(l){let t,e,o;return{c(){t=f("select"),e=f("option"),o=P("Loading..."),this.h()},l(_){t=b(_,"SELECT",{class:!0});var c=E(t);e=b(c,"OPTION",{});var r=E(e);o=S(r,"Loading..."),r.forEach(h),c.forEach(h),this.h()},h(){e.disabled=!0,e.selected=!0,e.__value="Loading...",e.value=e.__value,p(t,"class","select select-bordered w-96 disabled")},m(_,c){V(_,t,c),u(t,e),u(e,o)},p:J,d(_){_&&h(t)}}}function st(l){let t,e,o,_,c,r=l[6],a=[];for(let n=0;n<r.length;n+=1)a[n]=Ce(Se(l,r,n));return{c(){for(let n=0;n<a.length;n+=1)a[n].c();t=q(),e=f("button"),o=P("Add answer"),this.h()},l(n){for(let s=0;s<a.length;s+=1)a[s].l(n);t=C(n),e=b(n,"BUTTON",{class:!0});var d=E(e);o=S(d,"Add answer"),d.forEach(h),this.h()},h(){p(e,"class","btn")},m(n,d){for(let s=0;s<a.length;s+=1)a[s].m(n,d);V(n,t,d),V(n,e,d),u(e,o),_||(c=y(e,"click",l[26]),_=!0)},p(n,d){if(d[0]&64){r=n[6];let s;for(s=0;s<r.length;s+=1){const i=Se(n,r,s);a[s]?a[s].p(i,d):(a[s]=Ce(i),a[s].c(),a[s].m(t.parentNode,t))}for(;s<a.length;s+=1)a[s].d(1);a.length=r.length}},d(n){he(a,n),n&&h(t),n&&h(e),_=!1,c()}}}function ot(l){let t,e,o,_,c,r,a,n,d;return{c(){t=f("select"),e=f("option"),o=P("Select answer"),_=f("option"),c=P("True"),r=f("option"),a=P("False"),this.h()},l(s){t=b(s,"SELECT",{class:!0});var i=E(t);e=b(i,"OPTION",{});var k=E(e);o=S(k,"Select answer"),k.forEach(h),_=b(i,"OPTION",{});var v=E(_);c=S(v,"True"),v.forEach(h),r=b(i,"OPTION",{});var T=E(r);a=S(T,"False"),T.forEach(h),i.forEach(h),this.h()},h(){e.disabled=!0,e.selected=!0,e.__value="Select answer",e.value=e.__value,_.__value="true",_.value=_.__value,r.__value="false",r.value=r.__value,p(t,"class","select select-bordered w-96"),l[6]===void 0&&de(()=>l[23].call(t))},m(s,i){V(s,t,i),u(t,e),u(e,o),u(t,_),u(_,c),u(t,r),u(r,a),X(t,l[6]),n||(d=y(t,"change",l[23]),n=!0)},p(s,i){i[0]&64&&X(t,s[6])},d(s){s&&h(t),n=!1,d()}}}function at(l){let t,e,o,_,c,r,a,n,d,s,i=l[5],k=[];for(let v=0;v<i.length;v+=1)k[v]=Ve(Ue(l,i,v));return{c(){for(let v=0;v<k.length;v+=1)k[v].c();t=q(),e=f("div"),o=f("button"),_=P("Add option"),c=q(),r=f("button"),a=f("span"),n=P("data_object"),this.h()},l(v){for(let I=0;I<k.length;I+=1)k[I].l(v);t=C(v),e=b(v,"DIV",{class:!0});var T=E(e);o=b(T,"BUTTON",{class:!0});var g=E(o);_=S(g,"Add option"),g.forEach(h),c=C(T),r=b(T,"BUTTON",{class:!0});var B=E(r);a=b(B,"SPAN",{class:!0});var w=E(a);n=S(w,"data_object"),w.forEach(h),B.forEach(h),T.forEach(h),this.h()},h(){p(o,"class","btn"),p(a,"class","material-symbols-rounded"),p(r,"class","btn btn-square btn-info"),p(e,"class","flex gap-2")},m(v,T){for(let g=0;g<k.length;g+=1)k[g].m(v,T);V(v,t,T),V(v,e,T),u(e,o),u(o,_),u(e,c),u(e,r),u(r,a),u(a,n),d||(s=[y(o,"click",l[21]),y(r,"click",l[22])],d=!0)},p(v,T){if(T[0]&352){i=v[5];let g;for(g=0;g<i.length;g+=1){const B=Ue(v,i,g);k[g]?k[g].p(B,T):(k[g]=Ve(B),k[g].c(),k[g].m(t.parentNode,t))}for(;g<k.length;g+=1)k[g].d(1);k.length=i.length}},d(v){he(k,v),v&&h(t),v&&h(e),d=!1,oe(s)}}}function Ce(l){let t,e,o,_,c,r,a;function n(){l[24].call(e,l[33],l[31])}function d(){return l[25](l[31])}return{c(){t=f("div"),e=f("input"),o=q(),_=f("button"),c=P("\xD7"),this.h()},l(s){t=b(s,"DIV",{});var i=E(t);e=b(i,"INPUT",{type:!0,placeholder:!0,class:!0}),o=C(i),_=b(i,"BUTTON",{class:!0});var k=E(_);c=S(k,"\xD7"),k.forEach(h),i.forEach(h),this.h()},h(){p(e,"type","text"),p(e,"placeholder","answer"),p(e,"class","input input-bordered w-96"),p(_,"class","btn btn-square btn-error")},m(s,i){V(s,t,i),u(t,e),z(e,l[32]),u(t,o),u(t,_),u(_,c),r||(a=[y(e,"input",n),y(_,"click",d)],r=!0)},p(s,i){l=s,i[0]&64&&e.value!==l[32]&&z(e,l[32])},d(s){s&&h(t),r=!1,oe(a)}}}function rt(l){let t,e,o,_,c;function r(){l[17].call(t,l[30],l[31])}function a(){l[18].call(o,l[30],l[31])}return{c(){t=f("input"),e=q(),o=f("input"),this.h()},l(n){t=b(n,"INPUT",{type:!0,placeholder:!0,class:!0}),e=C(n),o=b(n,"INPUT",{type:!0,placeholder:!0,class:!0}),this.h()},h(){p(t,"type","text"),p(t,"placeholder","option"),p(t,"class","input input-bordered w-48"),p(o,"type","text"),p(o,"placeholder","icon"),p(o,"class","input input-bordered w-48")},m(n,d){V(n,t,d),z(t,l[29][0]),V(n,e,d),V(n,o,d),z(o,l[29][1]),_||(c=[y(t,"input",r),y(o,"input",a)],_=!0)},p(n,d){l=n,d[0]&32&&t.value!==l[29][0]&&z(t,l[29][0]),d[0]&32&&o.value!==l[29][1]&&z(o,l[29][1])},d(n){n&&h(t),n&&h(e),n&&h(o),_=!1,oe(c)}}}function it(l){let t,e,o;function _(){l[16].call(t,l[30],l[31])}return{c(){t=f("input"),this.h()},l(c){t=b(c,"INPUT",{type:!0,placeholder:!0,class:!0}),this.h()},h(){p(t,"type","text"),p(t,"placeholder","option\xA7\xA7icon"),p(t,"class","input input-bordered w-96")},m(c,r){V(c,t,r),z(t,l[29][0]),e||(o=y(t,"input",_),e=!0)},p(c,r){l=c,r[0]&32&&t.value!==l[29][0]&&z(t,l[29][0])},d(c){c&&h(t),e=!1,o()}}}function Ve(l){let t,e,o,_,c,r,a=l[6].includes(l[29][0])?"T":"F",n,d,s,i;function k(w,I){return w[8]?it:rt}let v=k(l),T=v(l);function g(){return l[19](l[31])}function B(){return l[20](l[29])}return{c(){t=f("div"),T.c(),e=q(),o=f("button"),_=P("\xD7"),c=q(),r=f("button"),n=P(a),this.h()},l(w){t=b(w,"DIV",{});var I=E(t);T.l(I),e=C(I),o=b(I,"BUTTON",{class:!0});var N=E(o);_=S(N,"\xD7"),N.forEach(h),c=C(I),r=b(I,"BUTTON",{class:!0});var A=E(r);n=S(A,a),A.forEach(h),I.forEach(h),this.h()},h(){p(o,"class","btn btn-square btn-error"),p(r,"class",d="btn btn-square "+(l[6].includes(l[29][0])?"btn-success":"btn-warning"))},m(w,I){V(w,t,I),T.m(t,null),u(t,e),u(t,o),u(o,_),u(t,c),u(t,r),u(r,n),s||(i=[y(o,"click",g),y(r,"click",B)],s=!0)},p(w,I){l=w,v===(v=k(l))&&T?T.p(l,I):(T.d(1),T=v(l),T&&(T.c(),T.m(t,e))),I[0]&96&&a!==(a=l[6].includes(l[29][0])?"T":"F")&&Ze(n,a),I[0]&96&&d!==(d="btn btn-square "+(l[6].includes(l[29][0])?"btn-success":"btn-warning"))&&p(r,"class",d)},d(w){w&&h(t),T.d(),s=!1,oe(i)}}}function ut(l){let t,e,o,_,c,r,a,n,d,s,i,k,v,T,g,B,w,I,N,A,$,M,x,Y,ee,G,te,le,Z,F,ne,m,K,H,ie,pe;o=new et({});let j={ctx:l,current:null,token:null,hasCatch:!1,pending:nt,then:lt,catch:tt,value:34};Le(l[9],j);function fe(O,L){if(O[2]==="choice")return at;if(O[2]==="boolean")return ot;if(O[2]==="input")return st}let R=fe(l),U=R&&R(l);return{c(){t=q(),e=f("div"),Fe(o.$$.fragment),_=q(),c=f("div"),r=f("div"),a=f("div"),n=f("div"),d=f("div"),s=f("div"),i=f("img"),v=q(),j.block.c(),T=q(),g=f("input"),B=q(),w=f("input"),I=q(),N=f("select"),A=f("option"),$=P("Select type"),M=f("option"),x=P("Multiple choice"),Y=f("option"),ee=P("True or False"),G=f("option"),te=P("Input"),le=q(),U&&U.c(),Z=q(),F=f("input"),ne=q(),m=f("button"),K=P("Create"),this.h()},l(O){Ke('[data-svelte="svelte-19h13lr"]',document.head).forEach(h),t=C(O),e=b(O,"DIV",{id:!0,"data-scroll-container":!0});var ae=E(e);je(o.$$.fragment,ae),_=C(ae),c=b(ae,"DIV",{"data-scroll-section":!0});var be=E(c);r=b(be,"DIV",{class:!0});var ve=E(r);a=b(ve,"DIV",{class:!0});var me=E(a);n=b(me,"DIV",{class:!0});var D=E(n);d=b(D,"DIV",{class:!0});var ke=E(d);s=b(ke,"DIV",{class:!0});var ge=E(s);i=b(ge,"IMG",{src:!0,alt:!0}),ge.forEach(h),ke.forEach(h),v=C(D),j.block.l(D),T=C(D),g=b(D,"INPUT",{type:!0,placeholder:!0,class:!0}),B=C(D),w=b(D,"INPUT",{type:!0,placeholder:!0,class:!0}),I=C(D),N=b(D,"SELECT",{class:!0});var se=E(N);A=b(se,"OPTION",{});var Te=E(A);$=S(Te,"Select type"),Te.forEach(h),M=b(se,"OPTION",{});var Ee=E(M);x=S(Ee,"Multiple choice"),Ee.forEach(h),Y=b(se,"OPTION",{});var we=E(Y);ee=S(we,"True or False"),we.forEach(h),G=b(se,"OPTION",{});var Ie=E(G);te=S(Ie,"Input"),Ie.forEach(h),se.forEach(h),le=C(D),U&&U.l(D),Z=C(D),F=b(D,"INPUT",{type:!0,placeholder:!0,class:!0}),ne=C(D),m=b(D,"BUTTON",{class:!0});var Ne=E(m);K=S(Ne,"Create"),Ne.forEach(h),D.forEach(h),me.forEach(h),ve.forEach(h),be.forEach(h),ae.forEach(h),this.h()},h(){document.title="Kuizu - Create",Oe(i.src,k=l[4]||"https://placeimg.com/192/192/any")||p(i,"src",k),p(i,"alt",""),p(s,"class","w-24 mask mask-squircle"),p(d,"class","avatar mb-4"),p(g,"type","text"),p(g,"placeholder","title"),p(g,"class","input input-bordered w-96"),p(w,"type","text"),p(w,"placeholder","iconUrl"),p(w,"class","input input-bordered w-96"),A.disabled=!0,A.selected=!0,A.__value="Select type",A.value=A.__value,M.__value="choice",M.value=M.__value,Y.__value="boolean",Y.value=Y.__value,G.__value="input",G.value=G.__value,p(N,"class","select select-bordered w-96"),l[2]===void 0&&de(()=>l[14].call(N)),p(F,"type","text"),p(F,"placeholder","info"),p(F,"class","input input-bordered w-96"),p(m,"class","btn btn-primary btn-wide mt-4"),m.disabled=l[7],p(n,"class","max-w-xl flex flex-col gap-3 items-center mt-16 p-4"),p(a,"class","hero-content text-center"),p(r,"class","hero min-h-screen bg-base-200"),p(c,"data-scroll-section",""),p(e,"id","stick"),p(e,"data-scroll-container","")},m(O,L){V(O,t,L),V(O,e,L),Me(o,e,null),u(e,_),u(e,c),u(c,r),u(r,a),u(a,n),u(n,d),u(d,s),u(s,i),u(n,v),j.block.m(n,j.anchor=null),j.mount=()=>n,j.anchor=T,u(n,T),u(n,g),z(g,l[1]),u(n,B),u(n,w),z(w,l[4]),u(n,I),u(n,N),u(N,A),u(A,$),u(N,M),u(M,x),u(N,Y),u(Y,ee),u(N,G),u(G,te),X(N,l[2]),u(n,le),U&&U.m(n,null),u(n,Z),u(n,F),z(F,l[3]),u(n,ne),u(n,m),u(m,K),H=!0,ie||(pe=[y(g,"input",l[12]),y(w,"input",l[13]),y(N,"change",l[14]),y(N,"change",l[15]),y(F,"input",l[27]),y(m,"click",l[10])],ie=!0)},p(O,L){l=O,(!H||L[0]&16&&!Oe(i.src,k=l[4]||"https://placeimg.com/192/192/any"))&&p(i,"src",k),Ye(j,l,L),L[0]&2&&g.value!==l[1]&&z(g,l[1]),L[0]&16&&w.value!==l[4]&&z(w,l[4]),L[0]&4&&X(N,l[2]),R===(R=fe(l))&&U?U.p(l,L):(U&&U.d(1),U=R&&R(l),U&&(U.c(),U.m(n,Z))),L[0]&8&&F.value!==l[3]&&z(F,l[3]),(!H||L[0]&128)&&(m.disabled=l[7])},i(O){H||(Ge(o.$$.fragment,O),H=!0)},o(O){Je(o.$$.fragment,O),H=!1},d(O){O&&h(t),O&&h(e),Qe(o),j.block.d(),j.token=null,j=null,U&&U.d(),ie=!1,oe(pe)}}}function ct(l,t,e){ce.currentUser?He(ye(re,"users",ce.currentUser.uid)).then(m=>{m.data().isAdmin||(_e("/"),W.error("You aren't allowed to access this page"))}):(_e("/"),W.error("You aren't allowed to access this page")),Re(ce,m=>{m||(_e("/"),W.error("You aren't allowed to access this page"))});async function o(){return We(Pe(re,"kuizes"))}let _=o(),c,r,a,n,d,s=[["",""]],i,k=!1,v=!1;function T(){e(7,k=!0),Xe(Pe(re,"kuizes",c,"questions"),{title:r,iconUrl:d||"",answers:i,options:s.map(m=>m[1]==""?m[0]:m.join("\xA7\xA7")),info:n||"",type:a||"choice"}).then(()=>{$e(ye(re,"kuizes",c),{questionCount:xe(1)}).then(()=>{e(3,n=""),e(6,i=a==="boolean"?void 0:a==="input"?[""]:[]),e(7,k=!1),W.success("Question added")}).catch(m=>{W.error("STEP2 - An unknown error occured"),console.log(m)})}).catch(m=>{W.error("STEP1 - An unknown error occured"),console.log(m)})}function g(){c=ue(this),e(0,c),e(9,_)}function B(){r=this.value,e(1,r)}function w(){d=this.value,e(4,d)}function I(){a=ue(this),e(2,a)}const N=()=>{e(5,s=[["",""]]),e(6,i=a==="boolean"?void 0:a==="input"?[""]:[])};function A(m,K){m[K][0]=this.value,e(5,s)}function $(m,K){m[K][0]=this.value,e(5,s)}function M(m,K){m[K][1]=this.value,e(5,s)}const x=m=>{s.splice(m,1),e(5,s)},Y=m=>{i.includes(m[0])?(i.splice(i.indexOf(m[0]),1),e(6,i)):e(6,i=[...i,m[0]])},ee=()=>e(5,s=[...s,["",""]]),G=()=>e(8,v=!v);function te(){i=ue(this),e(6,i)}function le(m,K){m[K]=this.value,e(6,i)}const Z=m=>{i.splice(m,1),e(6,i)},F=()=>e(6,i=[...i,""]);function ne(){n=this.value,e(3,n)}return[c,r,a,n,d,s,i,k,v,_,T,g,B,w,I,N,A,$,M,x,Y,ee,G,te,le,Z,F,ne]}class bt extends Ae{constructor(t){super(),ze(this,t,ct,ut,Be,{},null,[-1,-1])}}export{bt as default};
