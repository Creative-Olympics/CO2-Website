import{S as J,i as P,s as Y,e as c,t as B,k as U,c as u,a as v,h as N,d as o,m as q,b as a,f as F,g as O,I as r,E as x,_ as $,J as H}from"./index-b5b53854.js";import{m as Q,l as W,D as X,k as Z,a as j,q as ee,t as te}from"./toasts-778ff757.js";function ae(_){let e,s;return{c(){e=c("label"),s=B("Login"),this.h()},l(t){e=u(t,"LABEL",{for:!0,class:!0});var l=v(e);s=N(l,"Login"),l.forEach(o),this.h()},h(){a(e,"for","loginModal"),a(e,"class","btn modal-button")},m(t,l){O(t,e,l),r(e,s)},p:x,d(t){t&&o(e)}}}function se(_){let e,s,t,l,i,b,m,y,A,f,E,p,g,D,L,S,h=_[1]&&_[1].isAdmin&&G();return{c(){e=c("div"),s=c("div"),t=c("label"),l=c("div"),i=c("img"),A=U(),f=c("ul"),h&&h.c(),E=U(),p=c("li"),g=c("button"),D=B("Logout"),this.h()},l(n){e=u(n,"DIV",{class:!0});var d=v(e);s=u(d,"DIV",{class:!0,"data-tip":!0});var I=v(s);t=u(I,"LABEL",{tabindex:!0,class:!0});var z=v(t);l=u(z,"DIV",{class:!0});var k=v(l);i=u(k,"IMG",{referrerpolicy:!0,src:!0,alt:!0}),k.forEach(o),z.forEach(o),I.forEach(o),A=q(d),f=u(d,"UL",{tabindex:!0,class:!0});var V=v(f);h&&h.l(V),E=q(V),p=u(V,"LI",{});var w=v(p);g=u(w,"BUTTON",{});var C=v(g);D=N(C,"Logout"),C.forEach(o),w.forEach(o),V.forEach(o),d.forEach(o),this.h()},h(){a(i,"referrerpolicy","no-referrer"),$(i.src,b=_[0].photoURL)||a(i,"src",b),a(i,"alt",m=_[0].displayName+" profile picture"),a(l,"class","w-10 rounded-full"),a(t,"tabindex","0"),a(t,"class","btn btn-ghost btn-circle avatar"),a(s,"class","tooltip tooltip-left"),a(s,"data-tip",y=_[0].displayName),a(f,"tabindex","0"),a(f,"class","p-2 mt-3 shadow menu menu-compact dropdown-content bg-base-100 rounded-box w-52"),a(e,"class","dropdown dropdown-end")},m(n,d){O(n,e,d),r(e,s),r(s,t),r(t,l),r(l,i),r(e,A),r(e,f),h&&h.m(f,null),r(f,E),r(f,p),r(p,g),r(g,D),L||(S=H(g,"click",_[2]),L=!0)},p(n,d){d&1&&!$(i.src,b=n[0].photoURL)&&a(i,"src",b),d&1&&m!==(m=n[0].displayName+" profile picture")&&a(i,"alt",m),d&1&&y!==(y=n[0].displayName)&&a(s,"data-tip",y),n[1]&&n[1].isAdmin?h||(h=G(),h.c(),h.m(f,E)):h&&(h.d(1),h=null)},d(n){n&&o(e),h&&h.d(),L=!1,S()}}}function G(_){let e,s,t;return{c(){e=c("li"),s=c("a"),t=B("Create"),this.h()},l(l){e=u(l,"LI",{});var i=v(e);s=u(i,"A",{href:!0});var b=v(s);t=N(b,"Create"),b.forEach(o),i.forEach(o),this.h()},h(){a(s,"href","/create")},m(l,i){O(l,e,i),r(e,s),r(s,t)},d(l){l&&o(e)}}}function le(_){let e,s,t,l,i,b,m,y,A,f,E,p,g,D,L;function S(d,I){return d[0]?se:ae}let h=S(_),n=h(_);return{c(){e=c("div"),s=c("div"),t=c("div"),l=c("div"),i=c("a"),b=B(`Kuizu
					`),m=c("div"),y=B("BETA"),A=U(),f=c("div"),E=c("div"),p=c("a"),g=c("span"),D=B("bug_report"),L=U(),n.c(),this.h()},l(d){e=u(d,"DIV",{class:!0,style:!0});var I=v(e);s=u(I,"DIV",{class:!0});var z=v(s);t=u(z,"DIV",{class:!0});var k=v(t);l=u(k,"DIV",{class:!0});var V=v(l);i=u(V,"A",{class:!0,href:!0});var w=v(i);b=N(w,`Kuizu
					`),m=u(w,"DIV",{class:!0});var C=v(m);y=N(C,"BETA"),C.forEach(o),w.forEach(o),V.forEach(o),A=q(k),f=u(k,"DIV",{class:!0});var T=v(f);E=u(T,"DIV",{class:!0,"data-tip":!0});var K=v(E);p=u(K,"A",{class:!0,href:!0,target:!0});var M=v(p);g=u(M,"SPAN",{class:!0});var R=v(g);D=N(R,"bug_report"),R.forEach(o),M.forEach(o),K.forEach(o),L=q(T),n.l(T),T.forEach(o),k.forEach(o),z.forEach(o),I.forEach(o),this.h()},h(){a(m,"class","text-white badge badge-error badge-sm"),a(i,"class","gap-1 btn btn-ghost"),a(i,"href","/"),a(l,"class","navbar-start"),a(g,"class","material-symbols-rounded"),a(p,"class","mr-2 btn btn-circle btn-ghost"),a(p,"href","mailto:kuizu@rahmouni.dev?subject=Bug%20report"),a(p,"target","_blank"),a(E,"class","tooltip tooltip-bottom"),a(E,"data-tip","Send a bug report"),a(f,"class","navbar-end"),a(t,"class","px-4 shadow-lg navbar bg-base-100"),a(s,"class",""),a(e,"class","fixed z-10 w-full"),F(e,"transform","translate3d(0,0,0)")},m(d,I){O(d,e,I),r(e,s),r(s,t),r(t,l),r(l,i),r(i,b),r(i,m),r(m,y),r(t,A),r(t,f),r(f,E),r(E,p),r(p,g),r(g,D),r(f,L),n.m(f,null)},p(d,[I]){h===(h=S(d))&&n?n.p(d,I):(n.d(1),n=h(d),n&&(n.c(),n.m(f,null)))},i:x,o:x,d(d){d&&o(e),n.d()}}}function re(_,e,s){let t,l;Q(j,b=>{s(0,t=b),t&&W(X(Z,"users",t.uid)).then(m=>{s(1,l=m.data())})});function i(){ee(j).then(()=>{te.success("You've been successfully logged out!")})}return[t,l,i]}class ne extends J{constructor(e){super(),P(this,e,re,le,Y,{})}}export{ne as A};
